const d=["chatgpt.com","chat.openai.com","bard.google.com","gemini.google.com","phind.com","bing.com"],c={keywords:["api_key","auth_token","secret"],regex:["AKIA[0-9A-Z]{16}"],urls:["https://api.myservice.com","https://secure.example.com"],vars:["DB_PASSWORD","JWT_SECRET","API_TOKEN"],configKeys:["DATABASE_URL","NEXTAUTH_SECRET"]};function g(e){return new Promise(t=>{chrome.storage.local.get(e,o=>t(o))})}function p(e){return new Promise(t=>{chrome.storage.local.set(e,()=>t())})}function y(e=[]){return new Promise(t=>{chrome.storage.local.remove(e,()=>{t(!0)})})}const r=document.getElementById("domains"),a=document.getElementById("patterns-section"),f=document.getElementById("saveBtn"),h=document.getElementById("resetBtn"),s=document.getElementById("status");async function m(){const{customPatterns:e=null,customDomains:t=null}=await g(["customPatterns","customDomains"]),o=e&&Object.keys(e).length>0?e:c,n=t&&t.length>0?t:d;v(o),r.value=n.join(", ")}function v(e){a.innerHTML="";for(const t of Object.keys(c)){const o=document.createElement("label");o.innerHTML=`<strong>${t}</strong>`;const n=document.createElement("textarea");n.id=`pattern-${t}`,n.placeholder=`Comma-separated values for ${t}`,n.value=(e[t]||[]).join(", "),a.appendChild(o),a.appendChild(n)}}f.onclick=async()=>{const e={};a.querySelectorAll("textarea").forEach(n=>{const l=n.id.replace("pattern-",""),i=n.value.split(",").map(u=>u.trim()).filter(Boolean);e[l]=i});const o=r.value.split(",").map(n=>n.trim()).filter(Boolean);await p({customPatterns:e,customDomains:o}),s.textContent="✅ Saved!",setTimeout(()=>s.textContent="",2e3)};h.onclick=async()=>{await y(["customPatterns","customDomains"]),await m(),s.textContent="🔁 Reset to default values.",setTimeout(()=>s.textContent="",2e3)};m();
